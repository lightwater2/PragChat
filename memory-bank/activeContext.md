# PragChat 활성 컨텍스트

## 현재 초점
프로젝트는 현재 다음과 같은 기능으로 메신저와 같은 경험을 향상시키는 데 중점을 두고 있습니다:
- 연락처 관리 (생성, 편집, 상세 정보)
- 메시지 읽음 상태 및 전송 표시기
- 사용자 정의 가능한 채팅 배경
- 채팅 및 연락처에 대한 스와이프 액션
- iOS 스타일 햅틱 피드백

## 최근 변경사항
- 연락처와의 대화에서 이름 인식 기능 구현 (사용자가 AI 이름을 부르면 인식 가능)
- 채팅 및 연락처 목록에 대한 iOS 네이티브 스타일 스와이프 액션 구현
- expo-haptics를 사용한 햅틱 피드백 추가
- 메시지 읽음 상태 관리 개선
  - 실시간 메시지 수신 시 읽음 상태 자동 업데이트 기능 추가
- 읽지 않은 메시지 수 표시 향상
- 채팅 배경 사용자 정의 구현
- 연락처 편집 기능 추가

## 다음 단계
- 더 자연스러운 대화 흐름을 위한 스트리밍 응답 구현
- 메시지 삭제 및 편집 기능 추가
- 파일 및 미디어 공유 구현
- 음성 메시지 녹음 및 재생 추가
- 데이터 지속성을 위한 Supabase 통합
- 오프라인 모드 지원 구현

## 활성 의사결정
- 그룹 채팅 기능을 지금 구현할지 또는 나중 단계에서 구현할지 여부
- 파일 저장 처리 방법 (로컬 vs. 클라우드)
- 스트리밍 응답 구현을 위한 최선의 접근 방식
- 음성 메시지 또는 파일 공유 중 우선순위 결정

## 중요한 패턴 및 선호도
- 친숙함을 위한 iOS/카카오톡 디자인 패턴 따르기
- 전역 상태 관리를 위한 Redux 사용
- 재사용 가능한 로직을 위한 커스텀 훅 구현
- UI 컴포넌트와 비즈니스 로직 분리
- 강력한 타입 지정을 위한 TypeScript 인터페이스 사용

## 학습 및 통찰력
- AI 페르소나의 이름 인식을 위해서는 시스템 프롬프트에 명시적인 신원 정보가 필요함
- API 요청 시 모든 유형의 프롬프트(문자열, 배열, 객체)에 일관된 처리가 필요함
- API 키의 특수 문자는 신중한 처리가 필요함
- React Native에서 환경 변수는 특별한 구성이 필요함
- iOS 스타일 스와이프 액션은 사용자 경험을 크게 향상시킴
- 메시지 읽음 상태 추적은 신중한 상태 관리가 필요함
- 햅틱 피드백은 애플리케이션에 더 네이티브한 느낌을 추가함
- EAS 클라우드 빌드에서 로봇 액세스 토큰 사용 시 app.config.js에 owner 필드 지정이 필요함